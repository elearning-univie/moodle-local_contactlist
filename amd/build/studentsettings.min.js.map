{"version":3,"file":"studentsettings.min.js","sources":["../src/studentsettings.js"],"sourcesContent":["define(['jquery', 'core/modal_factory', 'core/templates', 'core/modal_events', 'core/ajax', 'core/notification', 'core/str'],\n    function($, ModalFactory, Templates, ModalEvents, Ajax, Notification, Str) {\n        return {\n            init: function(courseid) {\n                ModalFactory.create({\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    title: Str.get_string('localvisibility_help', 'local_contactlist'),\n                    body: Templates.render('local_contactlist/studentsettingsmodal', {})\n                }).then(function(modal) {\n                    modal.getRoot().on(ModalEvents.save, function(e) {\n                        e.preventDefault();\n                        var updateval = $('#localcontactlist-visible').is(\":checked\") ? 1 : 0;\n                        Ajax.call([{\n                            methodname: 'localcontactlist_update_settings',\n                            args: {courseid: courseid, updateval: updateval},\n                            done: function() {\n                                modal.hide();\n                                location.reload();\n                            },\n                            fail: Notification.exception\n                        }]);\n                    });\n                    modal.show();\n                    $('#local-contactlist-toggle')[0].addEventListener(\"click\", function() {\n                        var checkbox = $('#localcontactlist-visible')[0];\n                        if (checkbox.checked) {\n                            checkbox.checked = false;\n                        } else {\n                            checkbox.checked = true;\n                        }\n                    });\n                    return;\n                }).fail(Notification.exception);\n            }\n        };\n    });"],"names":["define","$","ModalFactory","Templates","ModalEvents","Ajax","Notification","Str","init","courseid","create","type","types","SAVE_CANCEL","title","get_string","body","render","then","modal","getRoot","on","save","e","preventDefault","updateval","is","call","methodname","args","done","hide","location","reload","fail","exception","show","addEventListener","checkbox","checked"],"mappings":"AAAAA,2CAAO,CAAC,SAAU,qBAAsB,iBAAkB,oBAAqB,YAAa,oBAAqB,aAC7G,SAASC,EAAGC,aAAcC,UAAWC,YAAaC,KAAMC,aAAcC,WAC3D,CACHC,KAAM,SAASC,UACXP,aAAaQ,OAAO,CAChBC,KAAMT,aAAaU,MAAMC,YACzBC,MAAOP,IAAIQ,WAAW,uBAAwB,qBAC9CC,KAAMb,UAAUc,OAAO,yCAA0C,MAClEC,MAAK,SAASC,OACbA,MAAMC,UAAUC,GAAGjB,YAAYkB,MAAM,SAASC,GAC1CA,EAAEC,qBACEC,UAAYxB,EAAE,6BAA6ByB,GAAG,YAAc,EAAI,EACpErB,KAAKsB,KAAK,CAAC,CACPC,WAAY,mCACZC,KAAM,CAACpB,SAAUA,SAAUgB,UAAWA,WACtCK,KAAM,WACFX,MAAMY,OACNC,SAASC,UAEbC,KAAM5B,aAAa6B,gBAG3BhB,MAAMiB,OACNnC,EAAE,6BAA6B,GAAGoC,iBAAiB,SAAS,eACpDC,SAAWrC,EAAE,6BAA6B,GAC1CqC,SAASC,QACTD,SAASC,SAAU,EAEnBD,SAASC,SAAU,QAI5BL,KAAK5B,aAAa6B"}